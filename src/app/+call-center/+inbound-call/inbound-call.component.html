
<div id="content">
    <sa-widgets-grid>
      <sa-widget>
        <div class="row">
          <article class="mb-md">
            <button (click)="startCall($event)" [disabled]="!_endCall" class="btn btn-success btn-lg">
              <i class="fa fa-phone" aria-hidden="true"></i>&nbsp;
              <span *ngIf="_endCall"> Start </span>
               <span *ngIf="!_endCall" tooltip="Hold or Hangup to Answer another call"> Call in Progress <i class="fa fa-refresh fa-spin"></i> </span>
            </button>
            <!-- <button (click)="(null)" class="btn btn-primary btn-lg">
              <i class="fa fa-pause-circle-o" aria-hidden="true"></i>
                Hold
            </button> -->
            <button (click)="endCall($event)" [disabled]="_endCall" class="btn btn-danger btn-lg"> End </button>
            <span *ngIf="_startRecording == true" class="animated fadeInDownBig mar-md"> <strong> Started : <span class="text-success"> {{$startCallTime | date:'medium'}} </span>          </strong>
            </span>
            <span *ngIf="_endRecording == true" class="animated fadeInUpBig mar-md"> <strong> Ended : <span class="text-danger"> {{$endCallTime | date:'medium'}} </span>          </strong>
            </span>
            <span *ngIf="_endRecording == true" class="animated fadeInDownBig mar-md"> <strong> Duration : <span class="text-info"> {{$minutes}}&nbsp;Mins&nbsp;{{$seconds}}&nbsp;Sec </span>          </strong>
            </span>
          </article>
        </div>
      </sa-widget>
      <div class="row">
        <article class="col-sm-6">
          <sa-widget [editbutton]="false" [deletebutton]="false">
            <header>
              <h2> Search Patients </h2>
            </header>
            <div class="widget-body fuelux">
              <fuel-ux-wizard (complete)="onWizardComplete($event)">
                <div class="wizard">
                  <div class="steps-container">
                    <ul class="steps">
                      <li data-step="1" class="active">
                        <span class="badge badge-info">1</span>List<span class="chevron"></span>
                      </li>
                      <li data-step="2">
                        <span class="badge">2</span>Applications<span class="chevron"></span>
                      </li>
                      <!-- <li data-step="3">
                        <span class="badge">3</span>Step 3<span class="chevron"></span>
                      </li>
                      <li data-step="4">
                        <span class="badge">4</span>Step 4<span class="chevron"></span>
                      </li> -->
                    </ul>
                  </div>
                  <div class="actions">
                    <button type="button" class="btn btn-sm btn-primary btn-prev">
                        <i class="fa fa-arrow-left"></i>Prev
                      </button>
                    <button type="button" class="btn btn-sm btn-success btn-next" data-last="Finish">
                        Next<i class="fa fa-arrow-right"></i>
                      </button>
                  </div>
                </div>
                <div class="step-content">
                  <form class="form-horizontal">
                    <div class="step-pane active" data-step="1" style="min-height: 373px;">
                      <h3><strong>Step 1 </strong> - Search Patients </h3>
                      <input type="text" class="form-control" placeholder="search (e.g Lastname)" [(ngModel)]="form.$searchStr" (keyup)="displayResults()"
                        (blur)="_showsearchResults = false" name="$searchStr">
                      <br><br>
                      <article class="col-sm-12 no-padding" style="margin-top: -3em;">
                        <div class="table-responsive mt-md" [ngStyle]="{'display': form.display}" *ngIf="form.searchObjects.length > 0">
                          <table class="table table-striped table-hover" [mfData]="form.searchObjects" #mf="mfDataTable" [mfRowsOnPage]="10">
                            <thead>
                              <tr>
                                <th>
                                  <mfDefaultSorter by="first_name"> </mfDefaultSorter>
                                </th>
                                <th>
                                  <mfDefaultSorter by="first_name">First Name</mfDefaultSorter>
                                </th>
                                <th>
                                  <mfDefaultSorter by="last_name">Last Name</mfDefaultSorter>
                                </th>
                                <th>
                                  <mfDefaultSorter by="dob">Birthdate</mfDefaultSorter>
                                </th>
                                <th>
                                  <mfDefaultSorter by="gender">Gender</mfDefaultSorter>
                                </th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr *ngFor="let item of mf.data" (click)="loadMetrics(item.id)">
                                <td><img src="{{item.img_url}}" class="source_img" alt="AS"></td>
                                <td>{{item.first_name}}</td>
                                <td>{{item.last_name}}</td>
                                <td>{{item.dob | date: 'MM/dd/yyyy'}}</td>
                                <td>{{item.gender}} </td>
                              </tr>
                            </tbody>
                            <tfoot>
                              <tr>
                                <td colspan="6">
                                  <mfBootstrapPaginator [rowsOnPageSet]="[10, 25, 50]" style="width: 15%"></mfBootstrapPaginator>
                                </td>
                              </tr>
                            </tfoot>
                          </table>
                        </div>
                      </article>
                    </div>
                    <div class="step-pane" data-step="2">
                      <h3><strong>Step 2 </strong> - Applications</h3>
                      <div *ngFor='let app of applications' class="step2 text-center col-md-4">
                        <a href="{{app.link}}" target="_blank"> {{app.name}} </a>
                      </div>
                    </div>
  
                    <!-- <div class="step-pane" data-step="3">
                      <h3><strong>Step 3 </strong> - Wizard continued</h3>
                      <br>
                      <br>
  
                      <h1 class="text-center text-primary"> This will be your Step 3 </h1>
                      <br>
                      <br>
                      <br>
                      <br>
                    </div> -->
  
                    <!-- <div class="step-pane" data-step="4">
                      <h3><strong>Step 4 </strong> - Finished!</h3>
                      <br>
                      <br>
  
                      <h1 class="text-center text-success"><i class="fa fa-check"></i> Congratulations!
                        <br>
                        <small>Click finish to end wizard</small>
                      </h1>
                      <br>
                      <br>
                      <br>
                      <br>
                    </div> -->
                  </form>
                </div>
              </fuel-ux-wizard>
            </div>
          </sa-widget>
        </article>
        <!-- patient details on load -->
        <article class="col-sm-6" *ngIf="!_loadmetrics && !_addPatients">
          <sa-widget>
            <div class="row">
              <div class="col-md-6 lead"> Patient Details </div>
              <div class="col-md-6">
                <button class="btn btn-primary pull-right" (click)="addPatientList()"><i class="fa fa-plus"></i> Add
                    </button>
              </div>
            </div>
            <div class="row">
              <form class="form-horizontal">
                <div class="col-sm-6 mb-md">
                  <div class="form-group">
                    <label class="col-sm-4 control-label">First Name:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-user"></i></span>
                        <input class="form-control" type="text" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Middle Name:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-user"></i></span>
                        <input class="form-control" type="text" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Last Name:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-user"></i></span>
                        <input class="form-control" type="text" readonly>
                      </div>
                    </div>
                  </div>
                  <!-- <div class="form-group">
                    <label class="col-sm-4 control-label">Birthdate:</label>
                    <div class="col-sm-8">
                      <input class="form-control" type="text" readonly>
                    </div>
                  </div> -->
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Birthdate:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                        <input class="form-control" type="text" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Gender:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                        <input class="form-control" type="text" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Home Phone:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-phone-alt"></i></span>
                        <input class="form-control" type="number" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Work Phone:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
                        <input class="form-control" type="number" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Mobile Phone:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-phone"></i></span>
                        <input class="form-control" type="number" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Email:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
                        <input class="form-control" type="text" readonly>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Address 1:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
                        <input class="form-control" type="text" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Address 2:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span>
                        <input class="form-control" type="text" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">City/St:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span>
                        <input class="form-control" type="text" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Zip:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span>
                        <input class="form-control" type="text" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Preferred Contact:</label>
                    <div class="col-sm-8">
                      <div class="input-group-btn no-padding">
                        <button type="button" class="btn btn-default dropdown-toggle col-md-12" data-toggle="dropdown" [disabled]="true">
                           Preferred Contact <span class="caret"> </span>
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="col-sm-4"></div>
                    <div class="col-sm-8">
                      <button class="btn btn-primary col-sm-12" type="submit" [disabled]="true">
                        <i class="glyphicon glyphicon-floppy-save"></i> Save 
                      </button>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </sa-widget>
        </article>
        <!-- end of patient details on load -->
        <!-- patient details  -->
        <article class="col-sm-6" *ngIf="_loadmetrics && !_addPatients">
          <sa-widget [editbutton]="false" [deletebutton]="false">
            <div class="row">
              <div class="col-md-6 lead"> Patient Details (add/edit) </div>
              <div class="col-md-6">
                <button class="btn btn-primary pull-right mar-sm" (click)="addPatientList()"><i class="fa fa-plus"></i> Add
                  </button>
                <button class="btn btn-primary pull-right mar-sm" (click)="updatePatientsList(individualDetails)"><i class="fa fa-pencil-square-o"></i> Edit
                  </button>
              </div>
            </div>
            <div class="row">
              <form class="form-horizontal">
                <div class="col-sm-6 mb-md">
                  <div class="form-group">
                    <label class="col-sm-4 control-label">First Name:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-user"></i></span>
                        <input class="form-control" type="text" value="{{individualDetails.first_name}}" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Middle Name:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span>
                        <input class="form-control" type="text" value="{{individualDetails.middle_name}}" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Last Name:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span>
                        <input class="form-control" type="text" value="{{individualDetails.last_name}}" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Birthdate:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                        <input class="form-control" type="text" value="{{individualDetails.dob | date: 'MM/dd/yyyy'}}" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Gender:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                        <input class="form-control" type="text" value="{{individualDetails.gender}}" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Home Phone:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-phone-alt"></i></span>
                        <input class="form-control" type="text" value="{{home_phone}}" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Work Phone:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
                        <input class="form-control" type="number" value="{{individualDetails.work_phone}}" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Mobile Phone:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-phone"></i></span>
                        <input class="form-control" type="number" value="{{individualDetails.mobile_phone}}" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Email:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
                        <input class="form-control" type="text" value="{{individualDetails.email}}" readonly>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Address 1:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
                        <input class="form-control" type="text" value="{{individualDetails.address1}}" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Address 2:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span>
                        <input class="form-control" type="text" value="{{individualDetails.address2}}" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">City:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span>
                        <input class="form-control" type="text" value="{{individualDetails.city}}" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">State:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span>
                        <input class="form-control" type="text" value="{{individualDetails.state}}" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Zip:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span>
                        <input class="form-control" type="text" value="{{individualDetails.zip}}" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Preferred Contact:</label>
                    <div class="col-sm-8">
                      <div class="input-group-btn no-padding">
                        <button type="button" class="btn btn-default col-md-12" [disabled]="true">
                          {{individualDetails.preferred_contact_method}} <span class="caret"> </span>
                        </button>
                      </div>
                    </div>
                  </div>
                  <!-- <div class="form-group">
                    <div class="col-sm-4"></div>
                    <div class="col-sm-8">
                      <button class="btn btn-primary col-sm-12" type="submit">
                          <i class="glyphicon glyphicon-floppy-save"></i> Save 
                      </button>
                    </div>
                  </div> -->
                </div>
              </form>
            </div>
          </sa-widget>
        </article>
        <!-- end of patient details -->
  
        <!-- add new patient form -->
        <article class="col-sm-6 animated fadeInUp" *ngIf="_addPatients && !_loadmetrics">
          <sa-widget>
            <header>
              <h2> Add/Edit Patient </h2>
            </header>
            <div class="row">
              <form class="form-horizontal" #addPatientForm="ngForm" novalidate="novalidate" (ngSubmit)="onPatientUpdate()">
                <div class="col-sm-6 mb-md">
                  <div class="form-group">
                    <label class="col-sm-4 control-label">First Name <span class="text-danger">*</span></label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-user"></i></span>
                        <input class="form-control" type="text" id="firstname" name="firstname" required="required" [(ngModel)]="first_name">
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Middle Name </label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span>
                        <input class="form-control" type="text" id="middlename" name="middlename" [(ngModel)]="middle_name">
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Last Name <span class="text-danger" >*</span></label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span>
                        <input class="form-control" type="text" id="lastname" name="lastname" required="required" [(ngModel)]="last_name">
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Birthdate <span class="text-danger" >*</span></label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                        <input type="text" class="form-control" name="date" bsDatepicker [(ngModel)]="birthdate" [bsConfig]="bsConfig" />
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Gender <span class="text-danger" >*</span></label>
                    <div class="col-sm-8">
                      <div class="input-group-btn no-padding">
                        <button type="button" class="btn btn-default dropdown-toggle col-md-12" data-toggle="dropdown" required="required">
                            {{selectedGender}} <span class="caret"> </span>
                        </button>
                        <ul class="dropdown-menu col-md-12" role="menu">
                          <li role="menuitem"><a class="dropdown-item" (click)="showGender('Male')">Male</a></li>
                          <li role="menuitem"><a class="dropdown-item" (click)="showGender('Female')">Female</a></li>
                          <li role="menuitem"><a class="dropdown-item" (click)="showGender('Unknown')">Unknown</a></li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Home Phone <span class="text-danger" >*</span></label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-phone-alt"></i></span>
                        <input class="form-control" type="tel" id="homephone" name="homephone" required="required" data-smart-masked-input="(999) 999-9999"
                          [(ngModel)]="home_phone">
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Work Phone
                      <!-- <span class="text-danger" >*</span> -->
                    </label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
                        <input class="form-control" type="text" id="workphone" name="workphone" [(ngModel)]="work_phone">
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Mobile Phone
                      <!-- <span class="text-danger" >*</span>-->
                      </label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-phone"></i></span>
                        <input class="form-control" type="text" id="mobilephone" name="mobilephone" [(ngModel)]="mobile_phone">
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Email
                      <!-- <span class="text-danger" >*</span> -->
                      </label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
                        <input class="form-control" type="email" id="email" name="email" [(ngModel)]="email">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Address 1<span class="text-danger" >*</span></label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
                        <input class="form-control" type="text" id="address1" name="address1" required="required" [(ngModel)]="address1">
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Address 2:</label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span>
                        <input class="form-control" type="text" id="address2" name="address2" [(ngModel)]="address2">
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">City<span class="text-danger" >*</span></label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span>
                        <input class="form-control" type="text" required="required" name="city" [(ngModel)]="city">
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">State<span class="text-danger" >*</span></label>
                    <div class="col-sm-8">
                      <div class="input-group-btn no-padding">
                        <div class="btn-grp">
                          <button type="button" class="btn btn-default dropdown-toggle col-md-12" data-toggle="dropdown">
                              {{selectedState}} <span class="caret"></span>
                            </button>
                          <ul class="dropdown-menu scroll_bar col-md-12" role="menu">
                            <li role="menuitem" *ngFor='let state of states_list'>
                              <a class="dropdown-item" (click)="showState(state.state_code)">
                                  {{state.state_code}}
                                </a>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Zip<span class="text-danger" >*</span></label>
                    <div class="col-sm-8">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span>
                        <input class="form-control" type="text" id="zip" name="zip" required="required" [(ngModel)]="zip">
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Preferred Contact:</label>
                    <div class="col-sm-8">
                      <div class="input-group-btn no-padding">
                        <button type="button" class="btn btn-default dropdown-toggle col-md-12" data-toggle="dropdown">
                            {{selectedContactType}} <span class="caret"> </span>
                          </button>
                        <ul class="dropdown-menu col-md-12" role="menu">
                          <li role="menuitem"><a class="dropdown-item" (click)="showContactType('Home Phone')">Home Phone</a></li>
                          <li role="menuitem"><a class="dropdown-item" (click)="showContactType('Work Phone')">Work Phone</a></li>
                          <li role="menuitem"><a class="dropdown-item" (click)="showContactType('Mobile Phone')">Mobile Phone</a></li>
                          <li role="menuitem"><a class="dropdown-item" (click)="showContactType('Email')">Email</a></li>
                          <li role="menuitem"><a class="dropdown-item" (click)="showContactType('Mail')">Mail</a></li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="col-sm-4"></div>
                    <div class="col-sm-8">
                      <button class="btn btn-primary col-sm-12" type="submit" [disabled]="!addPatientForm.form.valid"> 
                            <i class="glyphicon glyphicon-floppy-save"></i> Save 
                        </button>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </sa-widget>
        </article>
        <!-- end of add new patient -->
        <article class="col-sm-6">
          <sa-widget>
            <header>
              <ul id="widget-tab-1" class="nav nav-tabs">
                <li class="active">
                  <a data-toggle="tab" href="#callDisposition"> Call Disposition </a>
                </li>
                <li>
                  <a data-toggle="tab" href="#callHistory"> Call History
                    <div class="badge bg-color-blue">
                      {{callsSum}}
                    </div>
                  </a>
                </li>
              </ul>
            </header>
            <div>
              <div class="widget-body no-padding">
                <div class="tab-content padding-10">
                  <div class="tab-pane fade in active" id="callDisposition">
                    <!-- <span class="asc-text-primary"> <strong> Call Status </strong> </span>
                    <span class="btn-grp" dropdown>
                      <button type="button" class="btn btn-secondary dropdown-toggle" dropdownToggle>
                        {{selectedItem}} <span class="caret"></span>
                    </button>
                    <ul class="tabs_dropdown dropdown-menu" role="menu">
                      <li role="menuitem" *ngFor='let obj of callStatusData'>
                        <a class="dropdown-item" (click)="showStatus(obj.status)">
                          {{obj.status}}
                        </a>
                      </li>
                    </ul>
                    </span>
                    <hr> -->
                    <div class="row">
                      <div class="col-md-6 mt-md">
                        <span class="asc-text-primary"> <strong> Call Outcomes: </strong> </span>
                        <div class="multiple-select mt-md">
                          <div class="options" *ngFor='let item of _wrap$Codes.$codes | category: searchText | values:"key":true;let i=index' id={{item.configurationId.id}}
                            >
                            <div class="widget-footer text-left">
                              <span class="line-height-3"> {{item.configurationId.displayName}} </span>
                               <div class="pull-right">
                                  <button class="btn btn-secondary mt-xs" (click)="toggleMultiSelect($event, item.configurationId.displayName);toggle[i] = !toggle[i]">
                                      <i [ngClass]="toggle[i] ? 'txt-remove': 'txt-add'" aria-hidden="true"
                                      ></i>
                                  </button>
                              </div>
                              
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6 mt-md">
                        <div *ngIf="selectedOutCome" [ngClass]="'asc-text-primary two'">{{selectedOutCome}}</div>
                      </div>
                    </div>
  
                    <!-- <div class="widget-footer text-right mt-md">
                      <button [disabled]="_endCall" class="col-md-2 btn btn-danger pull-right mar-sm" (click)="endCall($event)">Hang up</button>
                    </div> -->
                  </div>
                  <div class="tab-pane fade" id="callHistory">
                    <p class="lead" *ngIf="individualDetails">Name: <strong> {{individualDetails.last_name}}, {{individualDetails.first_name}} </strong> | Age: <strong> {{patientAge}} years </strong>
                    </p>
                    <div class="table-responsive">
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th>Call Start</th>
                            <th>Call End</th>
                            <th>Agent</th>
                          </tr>
                        </thead>
                        <tbody *ngIf="callsListLength">
                          <tr *ngFor="let calls of calls_list">
                            <td>{{calls.call_start_date_time | date:'medium'}}</td>
                            <td>{{calls.call_stop_date_time | date:'medium'}}</td>
                            <td> Venkatesh Narlakanti </td>
                            <!-- <td>{{calls.call_agent}}</td> -->
                          </tr>
                        </tbody>
                        <tbody *ngIf="!callsListLength">
                          <tr>
                            <td colspan="3">
                              <h2 class="text-center">
                                <strong class="text-danger" *ngIf="!individualDetails"> No Records Found </strong>
                                <strong class="text-primary" *ngIf="individualDetails"> Looks like 
                                  <span class="text-success"> {{individualDetails.first_name | lowercase}} </span> never talked to any agent</strong>
                              </h2>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </sa-widget>
        </article>
        <article class="col-sm-6">
          <div class="well well-sm">
            <h3 class="asc-text-primary">Notes: </h3>
            <div class="bs-example">
              <textarea style="min-height: 163px; width: 100%; padding: 10px" placeholder="Additional notes"></textarea>
              <div class="col-md-12">
                <button [disabled]="_endCall" class="col-md-2 btn btn-danger mar-sm pull-right" (click)="endCall($event)">End</button>
                <button type="submit" class="col-md-2 btn btn-success mar-sm pull-right" (click)="saveNotes()">Save</button>
              </div>
            </div>
          </div>
        </article>
      </div>
    </sa-widgets-grid>
  </div>
  
  <div bsModal #childModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-md">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title pull-left">Confirmation</h4>
          <button type="button" class="close pull-right" aria-label="Close" (click)="hideChildModal()">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p class="lead">
            <span class="text-success text-center"> <strong> Data Updated </strong> </span>
          </p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-default pull-right" (click)="hideChildModal()">
              Close
          </button>
        </div>
      </div>
    </div>
  </div>